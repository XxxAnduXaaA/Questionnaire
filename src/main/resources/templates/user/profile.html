  <!-- user-tests.html -->
  <!DOCTYPE html>
  <html lang="ru" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{fragments/head :: head('Пройденные тесты')}">
    <meta charset="UTF-8" />
    <title>Пройденные тесты</title>
  </head>
  <body>
  <div class="container">
    <th:block th:replace="~{fragments/navbar :: navbar}"></th:block>

    <h1>Пройденные тесты</h1>

    <div th:if="${#lists.isEmpty(completedForms)}">
      <p>Вы ещё не проходили ни одного теста.</p>
    </div>

    <table th:if="${!#lists.isEmpty(completedForms)}" class="table">
      <thead>
      <tr>
        <th>#</th>
        <th>Название теста</th>
        <th>Действие</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="form, idx : ${completedForms}">
        <td th:text="${idx.index + 1}"></td>
        <td th:text="${form.form.title}"></td>
        <td>
          <a th:href="@{'/' + ${userId} + '/profile/' + ${form.getId()}}">Просмотр</a>
        </td>
      </tr>
      </tbody>
    </table>

    <hr/>

    <h2>Редактировать профиль</h2>
    <form method="post" th:action="@{'/' + ${userId} + '/profile'}" th:object="${currentUser}">
      <input type="hidden" name="_method" value="put"/>
      <div>
        <label for="username">Имя пользователя:</label>
        <input type="text" id="username" th:field="*{username}" required />
      </div>
      <div>
        <label for="email">Email:</label>
        <input type="email" id="email" th:field="*{email}" required />
      </div>
      <div>
        <label for="password">Новый пароль:</label>
        <input type="password" id="password" th:field="*{password}" />
      </div>
      <button type="submit">Сохранить изменения</button>
    </form>

  </div>
  </body>
  </html>
